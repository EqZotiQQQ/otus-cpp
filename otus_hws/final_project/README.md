Этот чат:

* Создаёт комнату для пользователей
* Регистрирует пользователей
* Логинит пользователей, если они ранее зареганы
* Передаёт сообщения всем пользователям комнаты
* Запоминает юзернейм пользователя
* По команде /register или /reg регистрирует пользователя, если он ещё в состоянии ANAUTH и пользователь ранее не зарегистрирован
* По команде /login логинит пользователя, если он ещё в состоянии ANAUTH и пользователь ранее зарегистрирован
* По команде /history или /hist отдаёт пользователю историю сообщений
* По команде /help возвращает список служебных команд
* По команде /users возвращает список залогиненных пользователей


proto payload schema:
[4 bytes describes payload length][payload]
